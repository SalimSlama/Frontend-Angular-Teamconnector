<div class="app-page-title">
    <div class="page-title-wrapper">
        <div class="page-title-heading">
            <div class="page-title-icon">
                <i class="icon {{icon}}"></i>
            </div>
            <div>
                <h2>Gestion <b>Terminaux</b></h2>
                <div class="page-title-subheading">
                  ------------------
                </div>
            </div>
        </div>
        <div class="page-title-actions">
                <button type="button" class="btn-shadow d-inline-flex align-items-center btn btn-success"
                (click)="triggerModal(modalData)">
                  <br>
                  <div><i class="material-icons">&#xE147;</i>
                  </div>
                  Ajouter un terminal
                </button>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-6 col-lg-6">
      <div class="widget-chart widget-chart2 text-left mb-3 card-btm-border card-shadow-primary border-primary card">
        <div class="widget-chat-wrapper-outer">
          <div class="widget-chart-content">
            <div class="widget-title opacity-5 text-uppercase">Les appareils inscrits</div>
            <div class="widget-numbers mt-2 fsize-4 mb-0 w-100">
              <div class="widget-chart-flex align-items-center">
                <div>
                  <span class="opacity-10 text-success pr-2">
                  </span>
                  234
                </div>
                <div class="widget-title ml-auto font-size-lg font-weight-normal text-muted">
                  <div class="circle-progress">
                    <div class="progress-circle-wrapper">
                      <div class="round-progress-text">
                        <span>--</span>
                        <round-progress [current]="100" [max]="100" [color]="'#52c44f'" [background]="'#f0f0f0'"
                          [radius]="62" [stroke]="6" [semicircle]="false" [rounded]="true" [clockwise]="false"
                          [responsive]="true" [duration]="1400" [animation]="'easeInOutQuart'" [animationDelay]="0">
                        </round-progress>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-lg-6">
      <div class="widget-chart widget-chart2 text-left mb-3 card-btm-border card-shadow-danger border-danger card">
        <div class="widget-chat-wrapper-outer">
          <div class="widget-chart-content">
            <div class="widget-title opacity-5 text-uppercase">Les appareils connectés</div>
            <div class="widget-numbers mt-2 fsize-4 mb-0 w-100">
              <div class="widget-chart-flex align-items-center">
                <div>
                  <span class="opacity-10 text-danger pr-2">
                  </span>
                  71
                </div>
                <div class="widget-title ml-auto font-size-lg font-weight-normal text-muted">
                  <div class="progress-circle-wrapper">
                    <div class="round-progress-text">
                      <span>31%</span>
                      <round-progress [current]="31" [max]="100" [color]="'#cc603c'" [background]="'#f0f0f0'"
                        [radius]="62" [stroke]="6" [semicircle]="false" [rounded]="true" [clockwise]="false"
                        [responsive]="true" [duration]="1400" [animation]="'easeInOutQuart'" [animationDelay]="0">
                      </round-progress>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<div class="form-group">
  </div>

  <div class="row" >
    <div class="col-sm-12 col-md-6 col-xl-4" *ngFor="let allterminaux of allterminaux">
      <div class="card mb-3 widget-chart">
        <div class="widget-chart-content">
          <div class="icon-wrapper rounded">
            <div class="icon-wrapper-bg bg-warning"></div>
            <i class="lnr-laptop-phone text-warning"></i>
          </div>
          <div class="widget-numbers">
            <span>{{allterminaux.nom ? allterminaux.nom : "terminal"}}</span>
          </div>
          <div class="widget-subheading fsize-1 pt-2 font-weight-bold opacity-10">Android Id:
            <span class="font-weight-bold text-warning"> {{allterminaux.Android_id}} </span>
          </div>
          <div class="widget-description opacity-8">Niveau de Batterie:
            <span class="pr-1">
              <span class="text-success pl-1">{{allterminaux.etats.NiveauDeBatterie}}</span>
            </span>
          </div>
          <br>
          <button type="button" [routerLink]="['/dashboards/oneterminal/',allterminaux.Android_id]" class="btn-shadow d-inline-flex align-items-center btn btn-success">
            Consulter
        </button>
        </div>
        <div class="widget-chart-wrapper">
          <div class="d-block">
            <canvas baseChart class="chart"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
  <ng-template #modalData let-modal >
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Ajout d'un terminal</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body">
        <div class="container">
          <h3>Veuillez scanner le QR CODE</h3>
          <input [(ngModel)]="url">
          <ngx-qrcode
             [elementType]="elementType"
             [errorCorrectionLevel]="correctionLevel"
             [value]="url"
             cssClass="coolQRCode"></ngx-qrcode>
       </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="modal.close('Save click')">Close</button>
      <button type="button"  (click)="modal.close('Save click')" class="btn btn-success" >Ajouter</button>
    </div>
  </div>
  </ng-template>



